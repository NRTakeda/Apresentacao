<!DOCTYPE html>
<html lang="pt-BR" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Slide 8: Segurança com Zod</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&family=Fira+Code:wght@500&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root {
            --bg-dark: #111827;
            --bg-card: #1f2937;
            --text-primary: #F9FAFB;
            --text-secondary: #9CA3AF;
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-dark);
        }

        .custom-card {
            background: rgba(30, 41, 59, 0.9);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(71, 85, 105, 0.5);
            border-radius: 0.75rem;
        }

        .tech-badge {
            display: inline-block;
            background: rgba(59, 130, 246, 0.2);
            color: #93c5fd;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            margin: 4px 8px 4px 0;
            border: 1px solid rgba(59, 130, 246, 0.3);
        }

        .feature-highlight {
            background: rgba(16, 185, 129, 0.1);
            border-left: 4px solid #10b981;
            padding: 12px 16px;
            border-radius: 8px;
            margin: 12px 0;
        }

        /* --- Estilos para o Bloco de Código --- */
        .code-block {
            background: #0d1117; /* Cor de fundo tipo VS Code */
            border: 1px solid #30363d;
            border-radius: 0.75rem;
            padding: 1.5rem;
            overflow-x: auto;
            font-family: 'Fira Code', 'Consolas', 'Menlo', monospace;
            font-size: 14px;
        }
        .code-block pre {
            margin: 0;
        }
        /* Syntax Highlighting */
        .code-comment { color: #6a9955; }
        .code-keyword { color: #c678dd; }
        .code-function { color: #61afef; }
        .code-property { color: #e5c07b; }
        .code-string { color: #98c379; }
        .code-number { color: #d19a66; }
        .code-punctuation { color: #abb2bf; }
.slide-progress {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 8px 12px;
            border-radius: 20px;
            font-size: 14px;
            z-index: 40;
        }
    </style>
</head>
<body class="flex flex-col min-h-screen">

    <!-- Header Padrão -->
    <header class="w-full p-4 shadow-lg" style="background-color: #0a3d7d;">
        <div class="max-w-6xl mx-auto flex justify-between items-center">
            <div class="flex items-center gap-2">
                <img src="../Imagens/favicon.png" alt="Logo DevX" class="w-8 h-8">
                <span class="text-2xl font-bold text-white">DevX</span>
            </div>
            <div class="flex items-center gap-6">
                <div>
                    <img src="../Imagens/PI9.png" alt="Logo PI9" class="h-12">
                </div>
                <div class="text-4xl font-bold text-white tracking-tighter">
                    CONTE<span class="text-cyan-400">EX</span>
                </div>
                <div class="flex items-center gap-2">
                    <span class="text-5xl font-extrabold text-white" style="letter-spacing: -2px;">FAM</span>
                    <span class="text-xs font-semibold text-white uppercase leading-tight" style="width: 80px;">
                        Centro Universitário
                    </span>
                </div>
            </div>
        </div>
    </header>

    <!-- Conteúdo Principal -->
    <main class="flex-grow flex items-center justify-center p-10">
        <div class="max-w-6xl w-full bg-gray-800 rounded-2xl shadow-2xl overflow-hidden border border-gray-700 flex flex-col" style="min-height: 760px;">
            
            <!-- Área do conteúdo do slide -->
            <div class="w-full h-full flex flex-col flex-grow">
                
                <!-- Cabeçalho do Slide (Atualizado) -->
                <div class="pt-8 px-12 text-center">
                    <h2 class="text-4xl font-bold text-white mb-2">Segurança: Validação de Schema</h2>
                    <div class="w-48 h-1 bg-gradient-to-r from-red-500 to-yellow-500 rounded-full mx-auto mb-6"></div>
                    <p class="text-xl text-gray-300 font-semibold">
                        Usando <span class="text-yellow-400">Zod</span> para criar um "firewall" para nossos dados.
                    </p>
                </div>

                <!-- Container do Conteúdo Principal -->
                <div class="flex-grow px-12 pb-12 mt-6">
                    
                    <!-- SEU CONTEÚDO AQUI -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 h-full">
                        
                        <!-- Coluna Esquerda: Exemplo de Código -->
                        <div class="code-block">
<pre><code><span class="code-comment">// send-email.js</span>

<span class="code-keyword">import</span> <span class="code-punctuation">{</span> <span class="code-property">z</span> <span class="code-punctuation">}</span> <span class="code-keyword">from</span> <span class="code-string">'zod'</span><span class="code-punctuation">;</span>
<span class="code-keyword">import</span> <span class="code-property">rateLimit</span> <span class="code-keyword">from</span> <span class="code-string">'express-rate-limit'</span><span class="code-punctuation">;</span>

<span class="code-comment">// 1. Proteção contra Spam (Rate Limiting)</span>
<span class="code-keyword">const</span> <span class="code-property">limiter</span> <span class="code-punctuation">=</span> <span class="code-function">rateLimit</span><span class="code-punctuation">({</span>
  <span class="code-property">windowMs</span><span class="code-punctuation">:</span> <span class="code-number">5</span> <span class="code-punctuation">*</span> <span class="code-number">60</span> <span class="code-punctuation">*</span> <span class="code-number">1000</span><span class="code-punctuation">,</span> <span class="code-comment">// 5 minutos</span>
  <span class="code-property">max</span><span class="code-punctuation">:</span> <span class="code-number">3</span><span class="code-punctuation">,</span> <span class="code-comment">// 3 tentativas por IP</span>
<span class="code-punctuation">});</span>

<span class="code-comment">// 2. Definição do Schema (As "Regras")</span>
<span class="code-keyword">const</span> <span class="code-property">contactSchema</span> <span class="code-punctuation">=</span> <span class="code-property">z</span><span class="code-punctuation">.</span><span class="code-function">object</span><span class="code-punctuation">({</span>
  <span class="code-property">name</span><span class="code-punctuation">:</span> <span class="code-property">z</span><span class="code-punctuation">.</span><span class="code-function">string</span><span class="code-punctuation">().</span><span class="code-function">min</span><span class="code-punctuation">(</span><span class="code-number">1</span><span class="code-punctuation">).</span><span class="code-function">max</span><span class="code-punctuation">(</span><span class="code-number">100</span><span class="code-punctuation">),</span>
  <span class="code-property">email</span><span class="code-punctuation">:</span> <span class="code-property">z</span><span class="code-punctuation">.</span><span class="code-function">string</span><span class="code-punctuation">().</span><span class="code-function">email</span><span class="code-punctuation">({</span> <span class="code-property">message</span><span class="code-punctuation">:</span> <span class="code-string">'Email inválido.'</span> <span class="code-punctuation">}),</span>
  <span class="code-property">message</span><span class="code-punctuation">:</span> <span class="code-property">z</span><span class="code-punctuation">.</span><span class="code-function">string</span><span class="code-punctuation">().</span><span class="code-function">min</span><span class="code-punctuation">(</span><span class="code-number">1</span><span class="code-punctuation">).</span><span class="code-function">max</span><span class="code-punctuation">(</span><span class="code-number">5000</span><span class="code-punctuation">),</span>
<span class="code-punctuation">});</span>

<span class="code-comment">// 3. Validação na Rota</span>
<span class="code-keyword">export default async function</span> <span class="code-function">handler</span><span class="code-punctuation">(</span><span class="code-property">req</span><span class="code-punctuation">,</span> <span class="code-property">res</span><span class="code-punctuation">) {</span>
  
  <span class="code-comment">// ... aplica o rate limit ...</span>

  <span class="code-keyword">const</span> <span class="code-property">validation</span> <span class="code-punctuation">=</span> <span class="code-property">contactSchema</span><span class="code-punctuation">.</span><span class="code-function">safeParse</span><span class="code-punctuation">(</span><span class="code-property">req</span><span class="code-punctuation">.</span><span class="code-property">body</span><span class="code-punctuation">);</span>

  <span class="code-keyword">if</span> <span class="code-punctuation">(!</span><span class="code-property">validation</span><span class="code-punctuation">.</span><span class="code-property">success</span><span class="code-punctuation">) {</span>
    <span class="code-keyword">return</span> <span class="code-property">res</span><span class="code-punctuation">.</span><span class="code-function">status</span><span class="code-punctuation">(</span><span class="code-number">400</span><span class="code-punctuation">).</span><span class="code-function">json</span><span class="code-punctuation">({</span> 
      <span class="code-property">message</span><span class="code-punctuation">:</span> <span class="code-string">'Dados inválidos.'</span> 
    <span class="code-punctuation">});</span>
  <span class="code-punctuation">}</span>

  <span class="code-comment">// ... (só continua se os dados forem válidos)</span>
<span class="code-punctuation">}</span>
</code></pre>
                        </div>

                        <!-- Coluna Direita: Explicação -->
                        <div class="custom-card p-8 text-white flex flex-col justify-center">
                            <h3 class="text-2xl font-bold text-yellow-400 mb-4">Por que isso é essencial?</h3>
                            <p class="text-gray-300 leading-relaxed mb-6">
                                Nunca confiamos em dados que vêm do cliente. Usamos <span class="text-yellow-400 font-bold">Zod</span> para definir "regras" estritas para cada informação. Se um dado não segue a regra (ex: um email mal formatado ou uma mensagem vazia), ele é bloqueado *antes* de tocar no nosso sistema.
                            </p>
                            <div class="feature-highlight">
                                <p class="text-green-300 text-sm font-semibold">
                                    <span class="text-green-400">✓</span> Proteção contra Spam (Rate Limit)
                                </p>
                                <p class="text-green-300 text-sm font-semibold">
                                    <span class="text-green-400">✓</span> Defesa contra Injeção de Dados (Sanitize)
                                </p>
                                <p class="text-green-300 text-sm font-semibold">
                                    <span class="text-green-400">✓</span> Garante formato de IDs, emails e textos
                                </p>
                                <p class="text-green-300 text-sm font-semibold">
                                    <span class="text-green-400">✓</span> Evita "lixo" e erros no Banco de Dados
                                </p>
                            </div>
                            <div class="mt-4">
                                <span class="tech-badge">Segurança</span>
                                <span class="tech-badge">Zod</span>
                                <span class="tech-badge">Validação</span>
                                <span class="tech-badge">Rate Limit</span>
                            </div>
                        </div>

                    </div>
                    <!-- FIM DO SEU CONTEÚDO -->

                </div>

            </div>

             <!-- Progresso do Slide -->
    <div class="slide-progress">
        Slide 8/16
    </div>
    
    <script>
        // --- NAVEGAÇÃO CÍCLICA ENTRE SLIDES (1-13) ---
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight' || e.key === 'ArrowLeft') {
                // Obtém o nome do arquivo atual
                const currentPath = window.location.pathname;
                const currentFile = currentPath.split('/').pop();
                
                let currentSlide;
                
                // ATUALIZADO PARA Slide8.html
                if (currentFile.toLowerCase() === 'slide8.html') { 
                    currentSlide = 8; 
                } else {
                    const slideMatch = currentFile.match(/Slide(\d+)\.html/i); // 'i' para case-insensitive
                    if (slideMatch && slideMatch[1]) {
                        currentSlide = parseInt(slideMatch[1]);
                    } else {
                        currentSlide = 1;
                    }
                }
                
                if (e.key === 'ArrowRight') {
                    const nextSlide = currentSlide === 16 ? 1 : currentSlide + 1;
                    window.location.href = `Slide${nextSlide}.html`;
                    
                } else if (e.key === 'ArrowLeft') {
                    const prevSlide = currentSlide === 1 ? 16 : currentSlide - 1;
                    window.location.href = `Slide${prevSlide}.html`;
                }
            }
        });
    </script>
</body>
</html>
